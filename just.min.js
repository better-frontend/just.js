function arrayExtractKey(t,e){return t.map(t=>t[e]).filter(Boolean)}class Just{constructor(t){const e=this;this.__ELEMENTS=[],this.__PROXYHANDLER={get:(t,r)=>e[r]||e.__ELEMENTS[r]||t[r]||e.select(arrayExtractKey(e.__ELEMENTS,r))},t&&this.select(t)}create(t){if(t.startsWith("<")){const e=document.createElement("DIV");return e.innerHTML=t,this.select(e.firstElementChild)}return this.select(document.createElement(t))}select(t){return t?("string"==typeof t?this.__ELEMENTS=Array.from(document.querySelectorAll(t)):(this.__ELEMENTS.length=0,this.__ELEMENTS=this.__ELEMENTS.concat(t)),new Proxy(this,this.__PROXYHANDLER)):null}css(t){return this.style(t)}style(t){return this.each(e=>e.style=t),this}each(t){return this.forEach(t)}foreach(t){return this.forEach(t)}forEach(t){return this.__ELEMENTS.forEach(t),this}on(t,e){return this.listen(t,e)}listen(t,e){return this.each(r=>r.addEventListener(t,e))}txt(t){return this.text(t)}text(t){return this.each(e=>e.innerText=t)}html(t){return this.each(e=>e.innerHTML=t)}attr(t,e){return this.attribute(t,e)}attribute(t,e){return this.each(r=>void 0===e?r.getAttribute(t):r.setAttribute(t,e))}prependTo(t){return t.prepend(...this.__ELEMENTS),this}prepend(t){return this.each(e=>e.prepend(t)),this}appendTo(t){return t.append(...this.__ELEMENTS),this}append(t){return this.each(e=>e.append(t)),this}}export default new Just;